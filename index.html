<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Office Bomber: Big Sight Mayhem!</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script type="importmap">
{
  "imports": {
    "react": "https://aistudiocdn.com/react@^19.1.1",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.1.1/",
    "react/": "https://aistudiocdn.com/react@^19.1.1/",
    "@google/genai": "https://aistudiocdn.com/@google/genai@^1.20.0"
  }
}
</script>
    <style>
      body {
        background-color: #000;
        background-image:
            radial-gradient(white, rgba(255,255,255,.2) 2px, transparent 40px),
            radial-gradient(white, rgba(255,255,255,.15) 1px, transparent 30px),
            radial-gradient(white, rgba(255,255,255,.1) 2px, transparent 40px),
            radial-gradient(rgba(255,255,255,.4), rgba(255,255,255,.1) 2px, transparent 30px);
        background-size: 550px 550px, 350px 350px, 250px 250px, 150px 150px;
        background-position: 0 0, 40px 60px, 130px 270px, 70px 100px;
        color: #e2e8f0;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        font-family: sans-serif;
        overflow: hidden;
      }
      .tile {
        display: inline-block;
        background-size: cover;
        box-sizing: border-box;
      }
      .floor { 
        background-color: #2d3748;
        background-image:
            linear-gradient(rgba(255, 255, 255, 0.07) 1px, transparent 1px),
            linear-gradient(90deg, rgba(255, 255, 255, 0.07) 1px, transparent 1px);
        background-size: 20px 20px;
      }
      .wall { 
        background: linear-gradient(145deg, #4c5a70, #2c3a50);
        box-shadow: inset 0 0 8px rgba(99, 179, 237, 0.6), 0 0 4px rgba(99, 179, 237, 0.4);
        border: 1px solid #63b3ed;
      }
      .partition { 
        background: linear-gradient(145deg, #718096, #4a5568);
        box-shadow: inset 0 2px 4px rgba(0,0,0,0.2);
        border: 1px solid #a0aec0;
        opacity: 0.9;
      }
      
      /* Human-like Character Styles with Shadow */
      .character-container {
        display: flex;
        justify-content: center;
        align-items: center;
        pointer-events: none;
        filter: drop-shadow(3px 5px 4px rgba(0,0,0,0.5));
      }
      .player, .enemy {
        position: relative;
        width: 100%;
        height: 100%;
      }
      .head {
        position: absolute;
        top: 4px;
        left: 50%;
        transform: translateX(-50%);
        width: 16px;
        height: 16px;
        background-color: #f6ad55; /* Skin tone */
        border-radius: 50%;
        z-index: 3;
        border: 1px solid #d69e4e;
      }
      .body {
        position: absolute;
        top: 14px;
        left: 50%;
        transform: translateX(-50%);
        width: 22px;
        height: 20px;
        z-index: 2;
        border-radius: 4px 4px 2px 2px;
      }
      .arm {
        position: absolute;
        top: 15px;
        width: 8px;
        height: 16px;
        z-index: 1;
        border-radius: 4px;
      }
      .arm.left { left: 3px; }
      .arm.right { right: 3px; }

      /* Player specifics */
      .body.suit { background-color: #2c5282; }
      .player .arm { background-color: #2c5282; } /* Sleeves */
      .tie {
        position: absolute;
        top: 14px;
        left: 50%;
        transform: translateX(-50%);
        width: 0;
        height: 0;
        border-left: 4px solid transparent;
        border-right: 4px solid transparent;
        border-top: 8px solid #c53030; /* red tie */
        z-index: 4;
      }

      /* Enemy specifics */
      .body.t-shirt { background-color: #e2e8f0; }
      .enemy .arm { background-color: #f6ad55; } /* Bare arms */
      .flyer-hand {
        position: absolute;
        top: 18px;
        right: -2px;
        width: 12px;
        height: 6px;
        background-color: white;
        border: 1px solid #cbd5e0;
        z-index: 4;
        transform: rotate(-15deg);
        box-shadow: 1px 1px 0 0 #fff, 2px 2px 0 0 #cbd5e0;
      }
      
      .bomb { 
        background: radial-gradient(circle at 35% 35%, #4f4f4f, black);
        border-radius: 50%; 
        animation: pulse 1s infinite; 
        border: 2px solid #333;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #ffd700;
        font-weight: 900;
        font-family: 'Arial Black', sans-serif;
        font-size: 18px;
        text-shadow: 1px 1px 2px black, 0 0 10px #ffc700;
        filter: drop-shadow(3px 5px 4px rgba(0,0,0,0.5));
      }
      .bomb::after {
        content: '';
        position: absolute;
        top: 10%;
        left: 47%;
        width: 8%;
        height: 8%;
        background-color: #f56565;
        border-radius: 50%;
        box-shadow: 0 0 4px #f56565, 0 0 8px #f56565;
        animation: flicker 0.3s infinite;
      }
      
      .explosion { 
        border-radius: 50%;
        animation: explode 0.5s forwards;
      }

      /* Flyer particle for death animation */
      .flyer-particle {
        position: absolute;
        width: 10px;
        height: 14px;
        background-color: white;
        border: 1px solid #cbd5e0;
        transition: transform 1s ease-out, opacity 1s ease-out;
        will-change: transform, opacity;
      }

      @keyframes pulse {
        0% { transform: scale(0.95); }
        50% { transform: scale(1.05); }
        100% { transform: scale(0.95); }
      }
      @keyframes flicker {
        0%, 100% { opacity: 1; transform: scale(1.2); }
        50% { opacity: 0.7; transform: scale(1); }
      }
      @keyframes explode {
        0% { 
          transform: scale(0.5); 
          opacity: 1; 
          background: radial-gradient(circle, white, #ffef9e 50%, #f56565 80%, transparent 90%); 
        }
        70% { 
          transform: scale(1.2); 
          opacity: 0.8; 
        }
        100% { 
          transform: scale(1.5); 
          opacity: 0; 
        }
      }
      @keyframes shake {
        10%, 90% { transform: translate3d(-1px, 0, 0); }
        20%, 80% { transform: translate3d(2px, 0, 0); }
        30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
        40%, 60% { transform: translate3d(4px, 0, 0); }
      }
      .shake {
        animation: shake 0.3s cubic-bezier(.36,.07,.19,.97) both;
      }
    </style>
  <link rel="stylesheet" href="/index.css">
</head>
  <body>
    <div id="root"></div>
    <script type="module" src="/index.tsx"></script>
  </body>
</html>